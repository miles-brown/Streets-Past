@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 250 250 249;
    --foreground: 41 37 36;

    --card: 0 0% 100%;
    --card-foreground: 41 37 36;

    --popover: 0 0% 100%;
    --popover-foreground: 41 37 36;

    --primary: 26 77% 34%;
    --primary-foreground: 250 250 249;

    --secondary: 33 62% 64%;
    --secondary-foreground: 41 37 36;

    --muted: 214 32% 91%;
    --muted-foreground: 120 4% 48%;

    --accent: 43 96% 56%;
    --accent-foreground: 41 37 36;

    --destructive: 0 84% 60%;
    --destructive-foreground: 250 250 249;

    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 26 77% 34%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 41 37 36;
    --foreground: 250 250 249;

    --card: 41 37 36;
    --card-foreground: 250 250 249;

    --popover: 41 37 36;
    --popover-foreground: 250 250 249;

    --primary: 33 62% 64%;
    --primary-foreground: 41 37 36;

    --secondary: 26 77% 34%;
    --secondary-foreground: 250 250 249;

    --muted: 41 37 36;
    --muted-foreground: 120 4% 64%;

    --accent: 43 96% 56%;
    --accent-foreground: 41 37 36;

    --destructive: 0 62% 30%;
    --destructive-foreground: 250 250 249;

    --border: 41 37 36;
    --input: 41 37 36;
    --ring: 33 62% 64%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-stone-50 text-stone-800 antialiased;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Georgia', 'Times New Roman', serif;
  }
}

@layer components {
  /* MapLibre popup styles */
  .maplibregl-popup-content {
    @apply rounded-xl shadow-lg border border-stone-200 p-0 overflow-hidden;
  }

  .maplibregl-popup-close-button {
    @apply text-stone-400 hover:text-stone-600 text-lg px-2 py-1;
  }

  .maplibregl-ctrl-group {
    @apply rounded-lg shadow-md border border-stone-200;
  }

  .maplibregl-ctrl-group button {
    @apply rounded-lg;
  }

  /* Street marker animation */
  .street-marker {
    transition: transform 0.2s ease-out;
  }

  .street-marker:hover {
    transform: scale(1.15);
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-stone-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-stone-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-stone-400;
  }

  /* Prose styles for content */
  .prose h2 {
    @apply text-xl font-semibold text-stone-800 mt-6 mb-3;
  }

  .prose h3 {
    @apply text-lg font-semibold text-stone-800 mt-4 mb-2;
  }

  .prose p {
    @apply text-stone-700 leading-relaxed mb-4;
  }

  .prose ul {
    @apply list-disc list-inside space-y-1 mb-4 text-stone-700;
  }

  .prose li {
    @apply leading-relaxed;
  }

  .prose strong {
    @apply font-semibold text-stone-800;
  }
}

@layer utilities {
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Heritage-inspired color utilities */
  .text-heritage-gold {
    color: #c4a35a;
  }

  .bg-heritage-gold {
    background-color: #c4a35a;
  }

  .text-heritage-brown {
    color: #8b4513;
  }

  .bg-heritage-brown {
    background-color: #8b4513;
  }

  /* Academic paper style for etymology content */
  .etymology-content {
    @apply font-serif leading-loose text-stone-700;
  }

  .etymology-content::first-letter {
    @apply text-3xl font-bold text-amber-800 float-left mr-2;
  }
}

/* Animation keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out forwards;
}

.animate-slideUp {
  animation: slideUp 0.4s ease-out forwards;
}

/* MapLibre overrides */
.maplibregl-canvas {
  outline: none;
}

.maplibregl-popup-tip {
  border-top-color: white;
}

/* Focus styles for accessibility */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  @apply outline-none ring-2 ring-amber-500 ring-offset-2;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    @apply text-black bg-white;
  }
}
